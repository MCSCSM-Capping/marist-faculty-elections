<%- include('./partials/base.ejs', {user: user}) %>

<!--Marist Admin Login Page-->
<!--Asks admin user for username and password-->

<!--Begin style block-->
<link rel="stylesheet" href="/stylesheets/admin.css">
<!--End style block-->

<!--Begin login page layout-->
<div class="login-page">
    <div class="card">
        <h2 class="card-header text-center">Admin Login</h2>
        <div class="card-body">
            <!--Login form-->
            <form method="POST" action="/admin_authenticate"> <!--Change action to match our route-->
                <div class="form-group">
                    <label for="admin_username">Username</label>
                    <input type="text" id="admin_username" name="username" class="form-control" required> <!--Name attribute changed to "username"-->
                </div>
                <div class="form-group">
                    <label for="admin_password">Password</label>
                    <input type="password" id="admin_password" name="password" class="form-control" required> <!--Name attribute changed to "password"-->
                </div>
                <div class="form-group">
                    <input type="submit" value="Login" class="btn btn-danger btn-block">
                </div>
            </form>
            <!--End login form-->

            <!--Back button-->
            <div class="mt-3">
                <a href="/" class="btn btn-outline-danger btn-block">Back</a>
            </div>
        </div>
    </div>
</div>

<script>
    const queryStr = window.location.search;
    const urlParams = new URLSearchParams(queryStr);
    const invalidUserOrPass = urlParams.get('error');

    if (invalidUserOrPass) {
        alert("Invalid username or password.");
    }
</script>

<%- include('./partials/footer') %>